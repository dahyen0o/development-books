### 도메인이란?

소프트웨어로 해결하고자 하는 문제 영역

<br>

### 도메인 모델

#### 정의

특정 도메인을 개념적으로 표현한 것

#### 특징

- 도메인 모델을 표현하는 방법은 UML 표기법, 그래프, 수학 공식 등 다양하다.
- 구현을 위해서는 구현 기술에 맞는 `구현 모델`이 따로 필요하다.
- 의미를 제대로 구분하고 이해하기 위해 같은 내용이더라도 도메인 별로 다른 모델링이 필요하다.

<br>

### 도메인 모델 패턴

#### 정의

아키텍처 상의 도메인 계층을 객체 지향 기법으로 구현하는 패턴

#### 일반적인 애플리케이션 아키텍처

|영역|설명|
|--|----|
|사용자 인터페이스(UI) 또는 표현(Presentation)|사용자의 요청을 처리하고 사용자에게 정보를 보여준다.|
|응용(Application)|도메인 계층을 종합해 사용자가 요청한 기능을 실행한다.|
|도메인(Domain)|시스템이 제공할 도메인 규칙을 구현하다.|
|인프라스트럭처(Infrastructure)|데이터베이스 같은 외부 시스템과의 연동을 처리한다.|

#### 특징

- 핵심 규칙을 구현한 코드는 `도메인 모델(도메인 계층의 객체 모델)`에서 구현한다. <br>
  → 규칙이 바뀌거나 확장될 때 다른 코드에 영향을 덜 주고 변경 내역을 모델에 반영할 수 있게 한다.

<br>

### 도메인 모델 도출

1. 기획서 같은 요구사항과 도메인 전문가 등 관련자와의 대화를 통해 도메인을 이해한다.

2. 도메인 모델 초안을 만든다. <br>
  2-1. 요구사항을 통해 도메인에게 책임을 분배하고, 메서드를 추가한다. <br>
  2-2. 요구사항을 통해 필요한 정보를 도메인의 상태로 추가한다.
   
3. 초안을 공유하여 요구사항을 정련한다.

<br>

### 엔티티와 밸류

도메인 모델은 크게 엔티티(Entity)와 밸류(Value)로 구분할 수 있다.

#### 엔티티

- `식별자`를 가지는 도메인 모델 <br>
  → 두 엔티티 객체의 식별자가 같으면 두 엔티티는 같다.

- 엔티티의 식별자를 생성하는 시점은 도메인의 특징과 사용하는 기술에 따라 달라진다. <br>
  UUID, Nano ID와 같은 `고유 식별자 생성기`를 사용하거나, 자동 증가 칼럼 등 `일련번호`를 사용하기도 한다.

#### 밸류 타입

- 개념적으로 완전한 하나를 표현할 때 사용한다.
- 의미를 명확하게 표현할 수 있다.
```java
// Integer price;
Money price;
```
- 밸류 타입을 위한 기능을 추가할 수 있다.
- 밸류 객체의 데이터를 변경할 때는 변경할 데이터를 갖는 새로운 밸류 객체를 생성하는 방식을 선호한다. <br>
  → 불변(immutable)로 객체를 생성할 경우 `참조 투명성`과 `스레드`에 안전하다.

<br>

### 유비쿼터스 언어

#### 정의

코드, 대화, 문서 등 모든 곳에서 사용할 수 있는 도메인과 관련된 공통의 언어

#### 특징

- 소통 과정에서 발생하는 용어의 모호함을 줄일 수 있다.
- 개발자는 도메인과 코드 사이에서 불필요한 해석 과정을 줄일 수 있다.

